# P16 - 8-–±–∏—Ç–Ω–∞—è ALU —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –Ω–∞ 7‚Äësegment (Basys 2)

–ü—Ä–æ–µ–∫—Ç **P16** —è–≤–ª—è–µ—Ç—Å—è –ª–æ–≥–∏—á–µ—Å–∫–∏–º –∏—Ç–æ–≥–æ–º –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–±–æ—Ç –∫—É—Ä—Å–∞ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é **8-–±–∏—Ç–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–æ‚Äë–ª–æ–≥–∏—á–µ—Å–∫–æ–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (ALU)** –Ω–∞ FPGA **Digilent Basys 2 (Spartan‚Äë3E)**.

ALU —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **8‚Äë–±–∏—Ç–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∫–æ–¥–µ (two's complement)** –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ - **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≤–≤–æ–¥–∞, —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –æ–ø–µ—Ä–∞–Ω–¥—ã –∏ –∫–æ–º–∞–Ω–¥–∞ —Å–Ω–∞—á–∞–ª–∞ *–∑–∞–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–∞–º*, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è. –≠—Ç–æ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.

üé¨ –í–∏–¥–µ–æ (#24): https://youtu.be/vPxE-I7gnQI

---

## –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

* –ó–∞–∫—Ä–µ–ø–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ **two's complement** –Ω–∞ 8 –±–∏—Ç–∞—Ö
* –ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –æ–¥–∏–Ω ALU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
* –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏, –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ¬´–≤–≤–æ–¥ ‚Üí —Ñ–∏–∫—Å–∞—Ü–∏—è ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ¬ª

---

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

| –ö–æ–¥ OP | –û–ø–µ—Ä–∞—Ü–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ      |
| ------ | --------- | ------------- |
| `000`  | `A + B`   | –°–ª–æ–∂–µ–Ω–∏–µ      |
| `001`  | `A + 1`   | –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç     |
| `010`  | `A ‚àí B`   | –í—ã—á–∏—Ç–∞–Ω–∏–µ     |
| `011`  | `A XOR B` | –ü–æ–±–∏—Ç–æ–≤—ã–π XOR |
| `100`  | `A OR B`  | –ü–æ–±–∏—Ç–æ–≤—ã–π OR  |
| `101`  | `A AND B` | –ü–æ–±–∏—Ç–æ–≤—ã–π AND |

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞–¥ **–∑–Ω–∞–∫–æ–≤—ã–º–∏ 8‚Äë–±–∏—Ç–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏** (–¥–∏–∞–ø–∞–∑–æ–Ω `‚àí128 ‚Ä¶ +127`).

---

## –û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Basys 2)

### üîò –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ (SW)

* `SW[7:0]` - –≤–≤–æ–¥ **8‚Äë–±–∏—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
* `SW[2:0]` - –∫–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏ `OP` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã)

### üîò –ö–Ω–æ–ø–∫–∏ (BTN)

| –ö–Ω–æ–ø–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                        |
| ------ | --------------------------------- |
| `BTN0` | –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞–Ω–¥ **A**       |
| `BTN1` | –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞–Ω–¥ **B**       |
| `BTN2` | –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏ **OP** |
| `BTN3` | **EXEC** - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é     |

–ö–∞–∂–¥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–æ—á–Ω—ã–π –∏–º–ø—É–ª—å—Å (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏ –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥).

---

## –ò–Ω–¥–∏–∫–∞—Ü–∏—è

### üí° –°–≤–µ—Ç–æ–¥–∏–æ–¥—ã (LED)

–°–≤–µ—Ç–æ–¥–∏–æ–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, **—á—Ç–æ —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**:

* –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—É–º–±–ª–µ—Ä–æ–≤ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `SW`
* –ø–æ—Å–ª–µ `BTN0` - —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π **A**
* –ø–æ—Å–ª–µ `BTN1` - —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π **B**
* –ø–æ—Å–ª–µ `BTN2` - —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∫–æ–¥ **OP**

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö.

---

### üî¢ –°–µ–º–∏—Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (7‚Äësegment)

–§–æ—Ä–º–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:

```
[DIG3] [DIG2] [DIG1] [DIG0]
   F      OP     F7..4   F3..0
```

| –†–∞–∑—Ä—è–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ                    |
| ------ | --------------------------- |
| `DIG3` | –ë—É–∫–≤–∞ **F** (Result)        |
| `DIG2` | –ö–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏ `OP`           |
| `DIG1` | –°—Ç–∞—Ä—à–∏–π –ø–æ–ª—É–±–∞–π—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ |
| `DIG0` | –ú–ª–∞–¥—à–∏–π –ø–æ–ª—É–±–∞–π—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ |

#### –î–µ—Å—è—Ç–∏—á–Ω—ã–µ —Ç–æ—á–∫–∏ (DP)

* `DP` —É `DIG3` - **DONE** (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±–Ω–æ–≤–ª—ë–Ω)
* `DP` —É `DIG2` - **OVF** (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ two's complement)

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏

–ü–æ—Å–ª–µ –ø—Ä–æ—à–∏–≤–∫–∏ –∏ –≤–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞—Ç—ã:

```
F000
```

–≠—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

* `A = 0`, `B = 0`
* `OP = 000` (—Å–ª–æ–∂–µ–Ω–∏–µ)
* `F = 0`

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ø–æ—à–∞–≥–æ–≤–æ)

### ‚ñ∂Ô∏è –ü—Ä–∏–º–µ—Ä 1: A = 5, B = 3, –æ–ø–µ—Ä–∞—Ü–∏—è A + B

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SW = 00000101` (5)
2. –ù–∞–∂–º–∏—Ç–µ **BTN0** ‚Üí –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω `A = 5`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SW = 00000011` (3)
4. –ù–∞–∂–º–∏—Ç–µ **BTN1** ‚Üí –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω `B = 3`
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SW[2:0] = 000`
6. –ù–∞–∂–º–∏—Ç–µ **BTN2** ‚Üí –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω `OP = 0`
7. –ù–∞–∂–º–∏—Ç–µ **BTN3 (EXEC)**

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* 7‚Äëseg: `F005 + 003 ‚Üí F008`
* —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: `F0 08`

---

### ‚ñ∂Ô∏è –ü—Ä–∏–º–µ—Ä 2: A = 3, B = 5, –æ–ø–µ—Ä–∞—Ü–∏—è A ‚àí B

1. `SW = 00000011` ‚Üí **BTN0** (A = 3)
2. `SW = 00000101` ‚Üí **BTN1** (B = 5)
3. `SW[2:0] = 010` ‚Üí **BTN2** (SUB)
4. **BTN3**

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* `F = 11111110` (‚àí2)
* 7‚Äëseg: `F2 FE`
* `DP` —É `F` –≥–æ—Ä–∏—Ç (DONE)
* `DP` —É `OP` –Ω–µ –≥–æ—Ä–∏—Ç (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ—Ç)

---

### ‚ñ∂Ô∏è –ü—Ä–∏–º–µ—Ä 3: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ

A = `127` (`01111111`)

–û–ø–µ—Ä–∞—Ü–∏—è: `A + 1`

–†–µ–∑—É–ª—å—Ç–∞—Ç:

* `F = 10000000` (‚àí128)
 80 - —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚àí128
* `DP` —É `OP` –≥–æ—Ä–∏—Ç ‚Üí **OVF = 1**

---

## –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

* ALU —Ä–∞–±–æ—Ç–∞–µ—Ç **—Å—Ç—Ä–æ–≥–æ —Å –±–∏—Ç–∞–º–∏**, –∑–Ω–∞–∫ - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã—á–∏—Ç–∞–Ω–∏–µ –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–ª–æ–∫–∞
* –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ - —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –Ω–µ ¬´–æ—à–∏–±–∫–∞¬ª
* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

---

## –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏

* **P13** - —Å—É–º–º–∞—Ç–æ—Ä
* **P14** - –≤—ã—á–∏—Ç–∞—Ç–µ–ª—å —Å Borrow
* **P15** - –≤—ã—á–∏—Ç–∞–Ω–∏–µ —á–µ—Ä–µ–∑ two's complement
* **P16** - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è ALU

---

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **—É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π**: –∫—É—Ä—Å—ã —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ö–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–∏, FPGA –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–∞–∫ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ —Ç–µ–º–µ ALU.

[![–í–∏–¥–µ–æ #24](https://img.youtube.com/vi/vPxE-I7gnQI/maxresdefault.jpg)](https://youtu.be/vPxE-I7gnQI)
