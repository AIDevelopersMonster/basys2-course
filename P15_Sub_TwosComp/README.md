# P15 - –í—ã—á–∏—Ç–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ (Two's Complement)

–ü—Ä–æ–µ–∫—Ç **P15** –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—ã—á–∏—Ç–∞–Ω–∏—è **A ‚àí B** –Ω–∞ FPGA
**Digilent Basys 2 (Spartan-3E)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ (two's complement)**.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ **P14**, –≥–¥–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ä–µ–¥–µ–ª—è–ª—Å—è —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª *Borrow*,
–≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ **–∫–æ–¥–∏—Ä—É—é—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –±–∏—Ç–∞—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**.
–ò–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **ALU –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö**.

üé¨ –í–∏–¥–µ–æ (#23): https://youtu.be/X6iNsTuW3LI

---

## –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

* –ü–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
* –ù–∞—É—á–∏—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã—á–∏—Ç–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–ª–æ–∂–µ–Ω–∏–µ
* –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ **–æ–¥–∏–Ω —Å—É–º–º–∞—Ç–æ—Ä** –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏ ADD, –∏ SUB
* –°–≤—è–∑–∞—Ç—å —Ç–µ–æ—Ä–∏—é –¥–≤–æ–∏—á–Ω—ã—Ö —á–∏—Å–µ–ª —Å —Ä–µ–∞–ª—å–Ω–æ–π FPGA-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

---

## –¢–µ–æ—Ä–∏—è

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ —á–∏—Å–ª–∞ `B` —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª—É:

```
‚àíB = ¬¨B + 1
```

–¢–æ–≥–¥–∞ –≤—ã—á–∏—Ç–∞–Ω–∏–µ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Å–ª–æ–∂–µ–Ω–∏—é:

```
A ‚àí B = A + (¬¨B + 1)
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

* –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤—ã—á–∏—Ç–∞—Ç–µ–ª—å –Ω–µ –Ω—É–∂–µ–Ω
* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–±—ã—á–Ω—ã–π –¥–≤–æ–∏—á–Ω—ã–π —Å—É–º–º–∞—Ç–æ—Ä**
* –∑–Ω–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç–∞—Ä—à–µ–º –±–∏—Ç–µ

---

## –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Basys 2)

–ù–∞ –ø–ª–∞—Ç–µ Basys 2 –≤—Å–µ 8 –ø–æ–ª–∑—É–Ω–∫–æ–≤ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã **–≤ –æ–¥–∏–Ω —Ä—è–¥** –∏ –æ–±—Ä–∞–∑—É—é—Ç –±–∞–π—Ç.
–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–Ω—è—Ç–æ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏:

```
SW7 SW6 SW5 SW4  SW3 SW2 SW1 SW0
 ‚îî‚îÄ‚îÄ‚îÄ B ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ A ‚îÄ‚îÄ‚îÄ‚îò
```

* `SW7-SW4` - —á–∏—Å–ª–æ **B**
* `SW3-SW0` - —á–∏—Å–ª–æ **A**

---

## –ò–Ω–¥–∏–∫–∞—Ü–∏—è

| –°–≤–µ—Ç–æ–¥–∏–æ–¥—ã | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                      |
| ---------- | ------------------------------- |
| `LED[3:0]` | –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –∫–æ–¥–µ |
| `LED[7]`   | –ó–Ω–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (MSB)           |
| `LED[6]`   | Carry out (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)         |
| `LED[5:4]` | –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è                 |

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å: —Ä–∞–±–æ—Ç–∞ –Ω–∞ –ø–ª–∞—Ç–µ

### ‚ñ∂Ô∏è –ó–∞–¥–∞–Ω–∏–µ 1: A > B (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–ª–∑—É–Ω–∫–∏:

```
SW = 0011 0101
```

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:

```
B = 3
A = 5
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
A ‚àí B = 2
LED[3:0] = 0010
LED[7] = 0
```

---

### ‚ñ∂Ô∏è –ó–∞–¥–∞–Ω–∏–µ 2: A < B (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

```
SW = 0101 0011
```

```
B = 5
A = 3
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –ø–ª–∞—Ç–µ:

```
LED[3:0] = 1110
LED[7] = 1
```

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:

```
1110‚ÇÇ = ‚àí2 (two's complement)
```

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç P14:

* **Borrow –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**
* –∑–Ω–∞–∫ —É–∂–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

---

### ‚ñ∂Ô∏è –ó–∞–¥–∞–Ω–∏–µ 3: A = 0, B = 1

```
SW = 0001 0000
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
LED[3:0] = 1111
LED[7] = 1
```

```
1111‚ÇÇ = ‚àí1
```

---

### ‚ñ∂Ô∏è –ó–∞–¥–∞–Ω–∏–µ 4: –ù—É–ª–µ–≤–æ–π —Å–ª—É—á–∞–π

```
SW = 0000 0000
```

```
LED[3:0] = 0000
LED[7] = 0
```

---

## –ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –≤—ã—á–∏—Ç–∞—Ç–µ–ª—è**
* –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ –±–∏—Ç–∞—Ö
* –°—Ç–∞—Ä—à–∏–π –±–∏—Ç - —ç—Ç–æ **–∑–Ω–∞–∫**, –∞ –Ω–µ –æ—à–∏–±–∫–∞
* –ò–º–µ–Ω–Ω–æ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç ALU –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã

---

## –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏

* **P13** - –î–≤–æ–∏—á–Ω—ã–π —Å—É–º–º–∞—Ç–æ—Ä
* **P14** - –í—ã—á–∏—Ç–∞—Ç–µ–ª—å —Å Borrow
* **P15** - –í—ã—á–∏—Ç–∞–Ω–∏–µ —á–µ—Ä–µ–∑ two's complement
* **P16** - ALU (ADD / SUB –æ–¥–Ω–∏–º —Å—É–º–º–∞—Ç–æ—Ä–æ–º)

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

* FPGA: Digilent Basys 2 (Spartan-3E XC3S100E)
* –Ø–∑—ã–∫: VHDL
* –°—Ä–µ–¥–∞: Xilinx ISE WebPACK

---

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **—É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π** –∏ –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
–≤ –∫—É—Ä—Å–∞—Ö –ø–æ —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ö–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–µ –∏ FPGA-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

[![–í–∏–¥–µ–æ #23](https://img.youtube.com/vi/X6iNsTuW3LI/maxresdefault.jpg)](https://youtu.be/X6iNsTuW3LI)
