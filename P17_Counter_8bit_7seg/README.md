# P17 - Counter + Clock Divider + 7-seg (Basys2, VHDL)

üé¨ –í–∏–¥–µ–æ (#25): https://youtu.be/uytTeN8wARA

–ü—Ä–æ–µ–∫—Ç P17 —Ä–µ–∞–ª–∏–∑—É–µ—Ç **8-–±–∏—Ç–Ω—ã–π —Å—á—ë—Ç—á–∏–∫** —Å –¥–≤—É–º—è —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã:
- **AUTO**: —Å—á—ë—Ç—á–∏–∫ —Å–∞–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å —á–∞—Å—Ç–æ—Ç–æ–π ~1 –ì—Ü (–¥–µ–ª–∏—Ç–µ–ª—å –æ—Ç MCLK)
- **STEP**: —Å—á—ë—Ç—á–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏

–ò–Ω–¥–∏–∫–∞—Ü–∏—è:
- **LED[7:0]** - —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ (–≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ)
- **7-seg** - –∑–Ω–∞—á–µ–Ω–∏–µ –≤ **HEX** –∏–ª–∏ **DEC** (–≤—ã–±–æ—Ä –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º)

## –ß–∞—Å—Ç–æ—Ç–∞ MCLK (–≤–∞–∂–Ω–æ)
Basys2 –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç **25/50/100 –ú–ì—Ü** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç JP4). –ß–∞—Å—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - 50 –ú–ì—Ü.  
–ï—Å–ª–∏ —É —Ç–µ–±—è –¥—Ä—É–≥–∞—è —á–∞—Å—Ç–æ—Ç–∞ - –ø–æ–º–µ–Ω—è–π `CLK_HZ` –≤ –∫–æ–¥–µ. (—Å–º. Basys2 RM) 

## –û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏
- `SW7` - —Ä–µ–∂–∏–º:
  - `0` AUTO
  - `1` STEP
- `SW6` - —Ñ–æ—Ä–º–∞—Ç 7-seg:
  - `0` HEX (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `H0xx`)
  - `1` DEC (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `dXYZ`)
- `SW[7:0]` - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ —Å—á—ë—Ç—á–∏–∫ (LOAD)

### –ö–Ω–æ–ø–∫–∏
- `BTN0` - RESET (count = 0)
- `BTN1` - STEP (+1 –≤ —Ä–µ–∂–∏–º–µ STEP)
- `BTN2` - HOLD (–ø–∞—É–∑–∞/–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤ AUTO)
- `BTN3` - LOAD (–∑–∞–≥—Ä—É–∑–∏—Ç—å `count <= SW[7:0]`)

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–ø—Ä–∞–∫—Ç–∏–∫–∞)

### –ü—Ä–∏–º–µ—Ä 1: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—á—ë—Ç
1. –ü–æ—Å—Ç–∞–≤—å `SW7=0` (AUTO)
2. `SW6=0` (HEX)
3. –°–º–æ—Ç—Ä–∏: –Ω–∞ 7-seg –±—É–¥–µ—Ç `H0xx`, `xx` —Ä–∞—Å—Ç—ë—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É  
   LED –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ –∂–µ —á–∏—Å–ª–æ –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ.

### –ü—Ä–∏–º–µ—Ä 2: –ø–∞—É–∑–∞
1. –í AUTO –Ω–∞–∂–º–∏ `BTN2` ‚Üí —Å—á—ë—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
2. –ù–∞–∂–º–∏ `BTN2` –µ—â—ë —Ä–∞–∑ ‚Üí —Å—á—ë—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è

### –ü—Ä–∏–º–µ—Ä 3: –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º
1. –ü–æ—Å—Ç–∞–≤—å `SW7=1` (STEP)
2. –ù–∞–∂–∏–º–∞–π `BTN1` ‚Üí —Å—á—ë—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1

### –ü—Ä–∏–º–µ—Ä 4: –∑–∞–≥—Ä—É–∑–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è
1. –í—ã—Å—Ç–∞–≤—å `SW = 00110011` (0x33 = 51)
2. –ù–∞–∂–º–∏ `BTN3` (LOAD)
3. –£–≤–∏–¥–∏—à—å –Ω–∞ LED `00110011`, –Ω–∞ 7-seg:
   - HEX: `H033`
   - DEC: `d051` (–µ—Å–ª–∏ `SW6=1`)

## –î–ª—è —á–µ–≥–æ –ø—Ä–æ–µ–∫—Ç
- –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç **–¥–µ–ª–∏—Ç–µ–ª—å —á–∞—Å—Ç–æ—Ç—ã**
- —É–≤–∏–¥–µ—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É "–±—ã—Å—Ç—Ä—ã–º MCLK" –∏ "—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º —Ç–∏–∫–µ—Ä–æ–º"
- –∑–∞–∫—Ä–µ–ø–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏, –∫–Ω–æ–ø–∫–∞–º–∏ –∏ 7-seg


[![–í–∏–¥–µ–æ #25](https://img.youtube.com/vi/uytTeN8wARA/maxresdefault.jpg)](https://youtu.be/uytTeN8wARA)