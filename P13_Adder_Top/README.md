# Project 13 - Ripple Carry Adder (4-bit) | VHDL | Basys2

В данном проекте реализуется **4-битный двоичный сумматор** (Ripple Carry Adder) на языке **VHDL** для учебной FPGA-платы **Basys2**.

Проект является частью курса по цифровой схемотехнике и FPGA и служит базой для последующих тем:
- сумматор-вычитатель,
- арифметико-логическое устройство (ALU),
- счётчики и процессорные блоки.

---

## 1. Теория

### 1.1 Что такое сумматор
Сумматор - это **комбинаторная цифровая схема**, выполняющая операцию сложения двоичных чисел.

Для одного разряда используется **полный сумматор (Full Adder)**, который вычисляет:

- `SUM = A ⊕ B ⊕ Cin`
- `Cout = (A ∧ B) ∨ (Cin ∧ (A ⊕ B))`

где:
- `A`, `B` - слагаемые,
- `Cin` - входной перенос,
- `SUM` - бит суммы,
- `Cout` - выходной перенос.

---

### 1.2 Ripple Carry Adder
Многобитный сумматор строится **каскадированием полных сумматоров**:
- перенос `Cout` каждого разряда подаётся на `Cin` следующего,
- перенос распространяется от младшего бита к старшему.

Такой сумматор называется **Ripple Carry Adder** (сумматор с последовательным переносом).

Особенность:
- простая реализация,
- задержка увеличивается с ростом числа бит.

---

## 2. Структура проекта
P13_Adder/
├── half_adder.vhd -- полусумматор
├── full_adder.vhd -- полный сумматор
├── adder_4bit.vhd -- 4-битный сумматор
├── P13_Adder_Top.vhd -- top-модуль под Basys2
├── tb_P13_Adder.vhd -- testbench
├── P13_Adder.ucf -- UCF файл (SW, BTN, LED)
└── README.md


---

## 3. Назначение выводов (Basys2)

### 3.1 Входы (ползунки и кнопка)

| Элемент платы | Назначение | Описание |
|---------------|-----------|----------|
| `SW(3:0)` | A[3:0] | Первое 4-битное число |
| `SW(7:4)` | B[3:0] | Второе 4-битное число |
| `BTN0`    | Cin    | Входной перенос |

---

### 3.2 Выходы (светодиоды)

| Светодиод | Назначение |
|----------|-----------|
| `LED(3:0)` | SUM[3:0] - результат сложения |
| `LED(4)` | COUT - перенос из старшего разряда |
| `LED(7:5)` | Не используются |

---

## 4. Проверка проекта на плате (обязательные примеры)

Ниже приведены **контрольные примеры**, которые студент должен повторить на плате и сравнить результат.

---

### Пример 1 - простое сложение
**A = 3, B = 5, Cin = 0**

- `SW(3:0)` = `0011`  
- `SW(7:4)` = `0101`  
- `BTN0` = `0`

Ожидаемый результат:
- `LED(3:0)` = `1000` (8)
- `LED(4)` = `0`

---

### Пример 2 - переполнение без Cin
**A = 9, B = 7, Cin = 0**

- `SW(3:0)` = `1001`  
- `SW(7:4)` = `0111`  
- `BTN0` = `0`

Ожидаемый результат:
- `LED(3:0)` = `0000`
- `LED(4)` = `1`

Пояснение:  
`9 + 7 = 16 = 1_0000₂`

---

### Пример 3 - переполнение с входным переносом
**A = 15, B = 15, Cin = 1**

- `SW(3:0)` = `1111`  
- `SW(7:4)` = `1111`  
- `BTN0` = `1`

Ожидаемый результат:
- `LED(3:0)` = `1111`
- `LED(4)` = `1`

---

### Пример 4 - влияние Cin
**A = 4, B = 2**

- `Cin = 0` → `SUM = 6`
- `Cin = 1` → `SUM = 7`

Это демонстрирует роль входного переноса.

---

## 5. Симуляция (Testbench)

Для проверки логики используется `tb_P13_Adder.vhd`.

Testbench:
- перебирает все значения `A`, `B` от 0 до 15,
- проверяет оба состояния `Cin`,
- сравнивает результат с эталонным сложением,
- использует `assert`.

Сообщение:


TB PASSED: Adder OK

означает корректную работу сумматора.

---

## 6. Важные замечания

- Проект **комбинаторный**, тактирование не используется.
- Все неопределённые состояния `U` возможны только в симуляции при отсутствии инициализации.
- Проект **полностью синтезируемый** и предназначен для реальной FPGA.
- Сумматор является фундаментальным блоком для дальнейших проектов.

---

## 7. Дальнейшие шаги
На основе этого проекта можно реализовать:
- сумматор-вычитатель,
- арифметико-логическое устройство (ALU),
- счётчики и регистры.

---

## Автор и курс
FPGA курс на базе платы **Basys2**  
GitHub: https://github.com/AIDevelopersMonster/basys2-course
